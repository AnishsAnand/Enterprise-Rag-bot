{
    "resources": {
      "engagement": {
        "operations": ["get"],
        "api_endpoints": {
          "get": {
            "method": "GET", 
            "url": "https://ipcloud.tatacommunications.com/paasservice/paas/engagements",
            "description": "Fetch engagement details for authenticated user. Response contains engagementId which is used in subsequent API calls."
          }
        },
        "parameters": {
          "get": {
            "required": [],
            "optional": []
          }
        },
        "response_mapping": {
          "engagement_id": "data[0].id",
          "engagement_name": "data[0].engagementName",
          "customer_name": "data[0].customerName"
        },
        "permissions": {
          "get": ["admin", "developer", "viewer"]
        }
      },
      "endpoint": {
        "operations": ["list"],
        "aliases": ["datacenter", "dc", "data center", "location", "datacenters", "data centers", "locations", "endpoints", "dcs"],
        "api_endpoints": {
          "list": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/configservice/getEndpointsByEngagement/{engagement_id}",
            "description": "Fetch available endpoints (data centers) for a given engagement. User can select which endpoints to query for resources."
          }
        },
        "parameters": {
          "list": {
            "required": ["engagement_id"],
            "optional": []
          }
        },
        "response_mapping": {
          "endpoints": "data",
          "endpoint_ids": "data[*].endpointId",
          "endpoint_names": "data[*].endpointDisplayName"
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_endpoints": {
            "description": "Multi-step workflow to list available endpoints/datacenters",
            "steps": [
              {
                "step": 1,
                "action": "get_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "list_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["engagement_id"],
                "display_result": true,
                "display_format": "table",
                "display_columns": ["endpointDisplayName", "endpointId", "region"]
              }
            ]
          }
        }
      },
      "business_unit": {
        "operations": ["list"],
        "aliases": ["bu", "business unit", "business units", "department", "departments"],
        "api_endpoints": {
          "list": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/securityservice/departments/{ipc_engagement_id}",
            "description": "List business units (departments) for engagement with zone, environment, and VM counts"
          }
        },
        "parameters": {
          "list": {
            "required": ["ipc_engagement_id"],
            "optional": []
          }
        },
        "response_mapping": {
          "engagement": "data.engagement",
          "departments": "data.department",
          "department_ids": "data.department[*].id",
          "department_names": "data.department[*].name"
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_business_units": {
            "description": "List business units for the engagement",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "list_business_units",
                "resource": "business_unit",
                "operation": "list",
                "depends_on": ["ipc_engagement_id"],
                "display_result": true,
                "display_format": "table",
                "display_columns": ["name", "id", "noOfEnvironments", "noOfZones", "noOfVMs", "endpoint.location"]
              }
            ]
          }
        }
      },
      "environment": {
        "operations": ["list"],
        "aliases": ["env", "environment", "environments"],
        "api_endpoints": {
          "list": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/securityservice/environmentsperengagement/{ipc_engagement_id}",
            "description": "List environments per engagement"
          }
        },
        "parameters": {
          "list": {
            "required": ["ipc_engagement_id"],
            "optional": []
          }
        },
        "response_mapping": {
          "environments": "data",
          "environment_ids": "data[*].id",
          "environment_names": "data[*].name"
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_environments": {
            "description": "List environments for the engagement",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "list_environments",
                "resource": "environment",
                "operation": "list",
                "depends_on": ["ipc_engagement_id"],
                "display_result": true,
                "display_format": "table"
              }
            ]
          }
        }
      },
      "zone": {
        "operations": ["list"],
        "aliases": ["zone", "zones", "network zone", "network zones", "vlan", "vlans", "subnet", "subnets"],
        "api_endpoints": {
          "list": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/api/v1/{ipc_engagement_id}/zonelist",
            "description": "List all zones (network segments) for the engagement with CIDR, hypervisors, and status"
          }
        },
        "parameters": {
          "list": {
            "required": ["ipc_engagement_id"],
            "optional": []
          }
        },
        "response_mapping": {
          "zones": "data",
          "zone_ids": "data[*].zoneId",
          "zone_names": "data[*].zoneName",
          "departments": "data[*].departmentName",
          "environments": "data[*].environmentName"
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_zones": {
            "description": "List zones for the engagement with CIDR and status info",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "list_zones",
                "resource": "zone",
                "operation": "list",
                "depends_on": ["ipc_engagement_id"],
                "display_result": true,
                "display_format": "table",
                "display_columns": ["zoneName", "departmentName", "environmentName", "cidr", "status", "endpointName", "hypervisors"]
              }
            ]
          }
        }
      },
      "k8s_cluster": {
        "operations": ["create", "update", "delete", "list"],
        "api_endpoints": {
          "create": {
            "method": "POST", 
            "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/iks",
            "description": "Create a new Kubernetes cluster"
          },
          "update": {
            "method": "PATCH", 
            "url": "/api/v1/clusters/{cluster_id}",
            "description": "Update existing cluster configuration"
          },
          "delete": {
            "method": "DELETE", 
            "url": "/api/v1/clusters/{cluster_id}",
            "description": "Delete a Kubernetes cluster"
          },
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/uat-paasservice/paas/{engagement_id}/clusterlist/stream",
            "description": "List all clusters for given endpoints using SSE streaming. Requires engagement_id in URL and endpoints array in payload.",
            "streaming": true
          },
          "check_cluster_name": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/api/v1/check/clusterName?clusterName={clusterName}&clusterType=iks",
            "description": "Check if cluster name is available. Empty response = available."
          },
          "get_ipc_engagement": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/paasservice/paas/getIpcEngFromPaasEng/{engagement_id}",
            "description": "Convert PAAS engagement ID to IPC engagement ID. Returns ipc_engid needed for getTemplatesByEngagement."
          },
          "get_iks_images": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/paasservice/paas/getTemplatesByEngagement/{ipc_engagement_id}",
            "description": "Get IKS images with datacenter options and k8s versions. Requires ipc_engagement_id from get_ipc_engagement."
          },
          "get_network_list": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/paasservice/paas/cluster/getIksMsWithEndpoint/{endpointId}?version={k8sVersion}&type=network&clusterType=APP",
            "description": "Get CNI drivers for datacenter + k8s version + cluster type"
          },
          "get_business_units": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/securityservice/departments/{ipc_engagement_id}",
            "description": "Get business units (departments) listing for engagement. Returns BUs with their zones, environments, and VMs count."
          },
          "get_department_details": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/securityservice/deptDetailsForEngagement/{ipc_engagement_id}",
            "description": "Get department details with nested hierarchy: departments -> environments -> zones. Used for cluster creation workflow."
          },
          "get_environments": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/securityservice/environmentsperengagement/{ipc_engagement_id}",
            "description": "Get environments listing per engagement"
          },
          "get_zones": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/zone/getZoneList/{engagement_id}",
            "description": "Get zones (VLANs) for engagement"
          },
          "get_os_images": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/uat-portalservice/configservice/templates/{zoneId}?type=Container",
            "description": "Get OS images (templates) for zone, filtered by k8s version"
          },
          "get_flavors": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/uat-portalservice/configservice/flavordetails/{zoneId}",
            "description": "Get compute flavors with node types for zone"
          }
        },
        "parameters": {
          "list": {
            "required": ["endpoints"],
            "optional": []
          },
          "get_ipc_engagement": {
            "required": ["engagement_id"],
            "optional": []
          },
          "get_iks_images": {
            "required": ["ipc_engagement_id"],
            "optional": []
          },
          "check_cluster_name": {
            "required": ["clusterName"],
            "optional": []
          },
          "get_network_list": {
            "required": ["endpointId", "k8sVersion"],
            "optional": []
          },
          "get_business_units": {
            "required": ["ipc_engagement_id"],
            "optional": []
          },
          "get_department_details": {
            "required": ["ipc_engagement_id"],
            "optional": []
          },
          "get_environments": {
            "required": ["ipc_engagement_id"],
            "optional": []
          },
          "get_zones": {
            "required": ["engagement_id"],
            "optional": []
          },
          "get_os_images": {
            "required": ["zoneId"],
            "optional": []
          },
          "get_flavors": {
            "required": ["zoneId"],
            "optional": []
          },
          "create": {
            "required": [],
            "optional": [],
            "defaults": {
              "hypervisor": "VCD_ESXI",
              "purpose": "ipc",
              "vmPurpose": "APP",
              "clusterType": "APP",
              "controlPlaneType": "virtual",
              "clusterMode": "High availability",
              "dedicatedDeployment": false,
              "alertSuppression": true,
              "iops": 1,
              "isKdumpOrPageEnabled": "No",
              "logEnabled": true,
              "applicationType": "Container",
              "application": "Containers",
              "flavorDisk": 50,
              "master_node": {
                "vmHostName": "",
                "vmFlavor": "D8",
                "skuCode": "D8.UBN",
                "nodeType": "Master",
                "replicaCount": 3,
                "maxReplicaCount": null,
                "additionalDisk": {},
                "labelsNTaints": "no"
              }
            },
            "conversational_prompts": {
              "clusterName": "What would you like to name your cluster? (Must start with a letter, 3-18 characters: letters, numbers, hyphens)",
              "datacenter": "Which data center would you like to deploy the cluster in?",
              "k8sVersion": "Which Kubernetes version would you like to use?",
              "cniDriver": "Which CNI (Container Network Interface) driver would you like to use?",
              "businessUnit": "Which business unit should this cluster belong to?",
              "environment": "Which environment is this cluster for?",
              "zone": "Which network zone (VLAN) should the cluster use?",
              "operatingSystem": "Which operating system would you like for the worker nodes?",
              "workerNodePool": {
                "poolName": "What would you like to name this worker node pool? (5 lowercase alphanumeric characters)",
                "nodeType": "What type of worker nodes? (General Purpose, Compute Optimized, or Memory Optimized)",
                "flavor": "Which compute configuration (vCPU/RAM/Storage)?",
                "replicaCount": "How many worker nodes? (1-8)",
                "enableAutoscaling": "Would you like to enable autoscaling? (yes/no)",
                "maxReplicas": "What should be the maximum number of replicas? (1-8)"
              },
              "tags": "Would you like to add any tags? (optional, format: key=value)"
            },
            "payload_structure": {
              "description": "Complete payload structure for cluster creation",
              "template": {
                "name": "{{clusterName}}",
                "clusterName": "{{clusterName}}",
                "hypervisor": "{{hypervisor}}",
                "purpose": "{{purpose}}",
                "vmPurpose": "{{vmPurpose}}",
                "imageId": "{{imageId}}",
                "flavorId": "{{flavorId}}",
                "zoneId": "{{zoneId}}",
                "alertSuppression": "{{alertSuppression}}",
                "iops": "{{iops}}",
                "isKdumpOrPageEnabled": "{{isKdumpOrPageEnabled}}",
                "managedServices": "{{managedServices}}",
                "networkingDriver": "{{networkingDriver}}",
                "pvcsEnable": "{{pvcsEnable}}",
                "logEnabled": "{{logEnabled}}",
                "applicationType": "{{applicationType}}",
                "application": "{{application}}",
                "vmSpecificInput": "{{vmSpecificInput}}",
                "clusterMode": "{{clusterMode}}",
                "k8sVersion": "{{k8sVersion}}",
                "dedicatedDeployment": "{{dedicatedDeployment}}",
                "circuitId": "{{circuitId}}",
                "vApp": "{{vApp}}",
                "imageDetails": "{{imageDetails}}",
                "flavorDisk": "{{flavorDisk}}",
                "iksBackupDetails": "{{iksBackupDetails}}"
              }
            }
          }
        },
        "permissions": {
          "create": ["admin", "developer"],
          "delete": ["admin"],
          "update": ["admin", "developer"],
          "list": ["admin", "developer", "viewer"],
          "read": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_clusters": {
            "description": "Multi-step workflow to list Kubernetes clusters",
            "steps": [
              {
                "step": 1,
                "action": "get_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["engagement_id"],
                "user_selection": true,
                "selection_prompt": "Which endpoints (data centers) would you like to query? You can select specific ones or choose 'all'."
              },
              {
                "step": 3,
                "action": "list_clusters",
                "resource": "k8s_cluster",
                "operation": "list",
                "depends_on": ["engagement_id", "selected_endpoints"]
              }
            ]
          },
          "create_cluster_customer": {
            "description": "Customer workflow to create a new Kubernetes cluster (simplified)",
            "user_type": "customer",
            "steps": [
              {
                "step": 1,
                "group": "cluster_config",
                "action": "collect_cluster_name",
                "param": "clusterName",
                "description": "Ask for cluster name and validate uniqueness"
              },
              {
                "step": 2,
                "group": "cluster_config",
                "action": "select_datacenter",
                "param": "datacenter",
                "fetch_options": true,
                "api_call": "get_iks_images_version",
                "description": "Show available data centers"
              },
              {
                "step": 3,
                "group": "cluster_config",
                "action": "select_k8s_version",
                "param": "k8sVersion",
                "depends_on": ["datacenter"],
                "fetch_options": true,
                "description": "Show k8s versions for selected datacenter"
              },
              {
                "step": 4,
                "group": "cluster_config",
                "action": "select_cni_driver",
                "param": "cniDriver",
                "depends_on": ["datacenter", "k8sVersion"],
                "fetch_options": true,
                "api_call": "get_network_list",
                "description": "Show available CNI drivers"
              },
              {
                "step": 5,
                "group": "network_setup",
                "action": "select_business_unit",
                "param": "businessUnit",
                "fetch_options": true,
                "api_call": "get_environments_list",
                "description": "Show business units"
              },
              {
                "step": 6,
                "group": "network_setup",
                "action": "select_environment",
                "param": "environment",
                "depends_on": ["businessUnit"],
                "filter_by": "businessUnit",
                "description": "Show environments for selected BU"
              },
              {
                "step": 7,
                "group": "network_setup",
                "action": "select_zone",
                "param": "zone",
                "depends_on": ["businessUnit", "environment"],
                "fetch_options": true,
                "api_call": "get_zone_list",
                "filter_by": ["businessUnit", "environment"],
                "description": "Show zones for selected BU + environment"
              },
              {
                "step": 8,
                "group": "worker_config",
                "action": "select_operating_system",
                "param": "operatingSystem",
                "depends_on": ["zone", "k8sVersion"],
                "fetch_options": true,
                "api_call": "get_os_images",
                "description": "Show OS images filtered by zone + k8s version"
              },
              {
                "step": 9,
                "group": "worker_config",
                "action": "collect_worker_pool_name",
                "param": "workerNodePool.poolName",
                "description": "Ask for worker pool name (5 chars)"
              },
              {
                "step": 10,
                "group": "worker_config",
                "action": "select_node_type",
                "param": "workerNodePool.nodeType",
                "depends_on": ["operatingSystem"],
                "fetch_options": true,
                "description": "Show node types from flavors"
              },
              {
                "step": 11,
                "group": "worker_config",
                "action": "select_flavor",
                "param": "workerNodePool.flavor",
                "depends_on": ["operatingSystem", "workerNodePool.nodeType"],
                "fetch_options": true,
                "api_call": "get_flavors",
                "description": "Show flavors filtered by OS + node type"
              },
              {
                "step": 12,
                "group": "worker_config",
                "action": "collect_replica_count",
                "param": "workerNodePool.replicaCount",
                "description": "Ask for number of worker nodes (1-8)"
              },
              {
                "step": 13,
                "group": "optional",
                "action": "ask_autoscaling",
                "param": "workerNodePool.enableAutoscaling",
                "optional": true,
                "description": "Ask if autoscaling should be enabled"
              },
              {
                "step": 14,
                "group": "optional",
                "action": "collect_max_replicas",
                "param": "workerNodePool.maxReplicas",
                "depends_on_true": ["workerNodePool.enableAutoscaling"],
                "description": "Ask for max replicas if autoscaling enabled"
              },
              {
                "step": 15,
                "group": "optional",
                "action": "collect_tags",
                "param": "tags",
                "optional": true,
                "description": "Ask if user wants to add tags"
              },
              {
                "step": 16,
                "action": "build_payload",
                "description": "Construct final API payload with collected params"
              },
              {
                "step": 17,
                "action": "confirm_and_create",
                "confirmation_required": true,
                "confirmation_prompt": "Ready to create cluster '{{clusterName}}' with {{workerNodePool.replicaCount}} worker nodes in {{datacenter}}? This will take 15-30 minutes.",
                "api_call": "create_cluster",
                "description": "Show summary and create cluster"
              }
            ],
            "estimated_duration": "15-30 minutes",
            "notes": [
              "Customer clusters are always APP type with virtual control plane",
              "Cluster mode is automatically set to High Availability",
              "Master nodes use default configuration (3x D8 flavor)"
            ]
          }
        }
      },
      "firewall": {
        "operations": ["create", "read", "update", "delete", "list"],
        "api_endpoints": {  },
        "parameters": {  }
      },
      "managed_service": {
        "operations": ["list"],
        "aliases": ["managed service", "managed services"],
        "api_endpoints": {
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/{serviceType}",
            "description": "List managed services by type (Kafka, GitLab, etc.). Supports streaming response.",
            "streaming": false
          }
        },
        "parameters": {
          "list": {
            "required": ["serviceType", "engagement_id", "endpoints"],
            "optional": []
          }
        },
        "service_types": {
          "kafka": {
            "api_value": "IKSKafka",
            "display_name": "Kafka",
            "description": "Apache Kafka messaging service"
          },
          "gitlab": {
            "api_value": "IKSGitlab",
            "display_name": "GitLab",
            "description": "GitLab source code management"
          },
          "container_registry": {
            "api_value": "IKSContainerRegistry",
            "display_name": "Container Registry",
            "description": "Docker container registry service"
          },
          "jenkins": {
            "api_value": "IKSJenkins",
            "display_name": "Jenkins",
            "description": "Jenkins CI/CD automation server"
          },
          "postgres": {
            "api_value": "IKSPostgres",
            "display_name": "PostgreSQL",
            "description": "PostgreSQL relational database service"
          },
          "documentdb": {
            "api_value": "IKSDocumentDB",
            "display_name": "DocumentDB",
            "description": "MongoDB-compatible document database"
          }
        },
        "response_mapping": {
          "services": "data",
          "total": "data.length"
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_managed_services": {
            "description": "Multi-step workflow to list managed services by type",
            "steps": [
              {
                "step": 1,
                "action": "get_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600,
                "note": "Get PAAS engagement_id first"
              },
              {
                "step": 2,
                "action": "get_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600,
                "note": "Convert PAAS engagement_id to IPC engagement_id (needed for managed services)"
              },
              {
                "step": 3,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["engagement_id"],
                "user_selection": true,
                "selection_prompt": "Which endpoints would you like to query for managed services?"
              },
              {
                "step": 4,
                "action": "list_managed_services",
                "resource": "managed_service",
                "operation": "list",
                "depends_on": ["ipc_engagement_id", "selected_endpoints", "serviceType"],
                "display_result": true,
                "display_format": "table"
              }
            ]
          }
        }
      },
      "kafka": {
        "operations": ["list"],
        "aliases": ["kafka service", "kafka services", "apache kafka"],
        "parent_resource": "managed_service",
        "service_type": "IKSKafka",
        "api_endpoints": {
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSKafka",
            "description": "List Kafka managed services across endpoints"
          }
        },
        "parameters": {
          "list": {
            "required": ["endpoints"],
            "optional": [],
            "internal": {
              "engagementId": "ipc_engagement_id",
              "serviceType": "IKSKafka"
            }
          }
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_kafka": {
            "description": "List Kafka services across endpoints",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["paas_engagement_id"],
                "user_selection": true
              },
              {
                "step": 4,
                "action": "list_kafka_services",
                "method": "POST",
                "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSKafka",
                "payload": {
                  "engagementId": "{{ipc_engagement_id}}",
                  "endpoints": "{{selected_endpoints}}",
                  "serviceType": "IKSKafka"
                }
              }
            ]
          }
        }
      },
      "gitlab": {
        "operations": ["list"],
        "aliases": ["gitlab service", "gitlab services", "git lab"],
        "parent_resource": "managed_service",
        "service_type": "IKSGitlab",
        "api_endpoints": {
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSGitlab",
            "description": "List GitLab managed services across endpoints"
          }
        },
        "parameters": {
          "list": {
            "required": ["endpoints"],
            "optional": [],
            "internal": {
              "engagementId": "ipc_engagement_id",
              "serviceType": "IKSGitlab"
            }
          }
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_gitlab": {
            "description": "List GitLab services across endpoints",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["paas_engagement_id"],
                "user_selection": true
              },
              {
                "step": 4,
                "action": "list_gitlab_services",
                "method": "POST",
                "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSGitlab",
                "payload": {
                  "engagementId": "{{ipc_engagement_id}}",
                  "endpoints": "{{selected_endpoints}}",
                  "serviceType": "IKSGitlab"
                }
              }
            ]
          }
        }
      },
      "container_registry": {
        "operations": ["list"],
        "aliases": ["container registry", "registry", "docker registry", "image registry"],
        "parent_resource": "managed_service",
        "service_type": "IKSContainerRegistry",
        "api_endpoints": {
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSContainerRegistry",
            "description": "List Container Registry managed services across endpoints"
          }
        },
        "parameters": {
          "list": {
            "required": ["endpoints"],
            "optional": [],
            "internal": {
              "engagementId": "ipc_engagement_id",
              "serviceType": "IKSContainerRegistry"
            }
          }
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_container_registry": {
            "description": "List Container Registry services across endpoints",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["paas_engagement_id"],
                "user_selection": true
              },
              {
                "step": 4,
                "action": "list_container_registry_services",
                "method": "POST",
                "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSContainerRegistry",
                "payload": {
                  "engagementId": "{{ipc_engagement_id}}",
                  "endpoints": "{{selected_endpoints}}",
                  "serviceType": "IKSContainerRegistry"
                }
              }
            ]
          }
        }
      },
      "jenkins": {
        "operations": ["list"],
        "aliases": ["jenkins", "jenkins service", "ci cd", "continuous integration"],
        "parent_resource": "managed_service",
        "service_type": "IKSJenkins",
        "api_endpoints": {
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSJenkins",
            "description": "List Jenkins managed services across endpoints"
          }
        },
        "parameters": {
          "list": {
            "required": ["endpoints"],
            "optional": [],
            "internal": {
              "engagementId": "ipc_engagement_id",
              "serviceType": "IKSJenkins"
            }
          }
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_jenkins": {
            "description": "List Jenkins services across endpoints",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["paas_engagement_id"],
                "user_selection": true
              },
              {
                "step": 4,
                "action": "list_jenkins_services",
                "method": "POST",
                "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSJenkins",
                "payload": {
                  "engagementId": "{{ipc_engagement_id}}",
                  "endpoints": "{{selected_endpoints}}",
                  "serviceType": "IKSJenkins"
                }
              }
            ]
          }
        }
      },
      "postgres": {
        "operations": ["list"],
        "aliases": ["postgres", "postgresql", "postgres service", "postgresql database"],
        "parent_resource": "managed_service",
        "service_type": "IKSPostgres",
        "api_endpoints": {
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSPostgres",
            "description": "List PostgreSQL managed services across endpoints"
          }
        },
        "parameters": {
          "list": {
            "required": ["endpoints"],
            "optional": [],
            "internal": {
              "engagementId": "ipc_engagement_id",
              "serviceType": "IKSPostgres"
            }
          }
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_postgres": {
            "description": "List PostgreSQL services across endpoints",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["paas_engagement_id"],
                "user_selection": true
              },
              {
                "step": 4,
                "action": "list_postgres_services",
                "method": "POST",
                "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSPostgres",
                "payload": {
                  "engagementId": "{{ipc_engagement_id}}",
                  "endpoints": "{{selected_endpoints}}",
                  "serviceType": "IKSPostgres"
                }
              }
            ]
          }
        }
      },
      "documentdb": {
        "operations": ["list"],
        "aliases": ["documentdb", "document db", "mongodb", "mongo", "nosql database"],
        "parent_resource": "managed_service",
        "service_type": "IKSDocumentDB",
        "api_endpoints": {
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSDocumentDB",
            "description": "List DocumentDB managed services across endpoints"
          }
        },
        "parameters": {
          "list": {
            "required": ["endpoints"],
            "optional": [],
            "internal": {
              "engagementId": "ipc_engagement_id",
              "serviceType": "IKSDocumentDB"
            }
          }
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_documentdb": {
            "description": "List DocumentDB services across endpoints",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600
              },
              {
                "step": 3,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["paas_engagement_id"],
                "user_selection": true
              },
              {
                "step": 4,
                "action": "list_documentdb_services",
                "method": "POST",
                "url": "https://ipcloud.tatacommunications.com/paasservice/api/v1/paas/listManagedServices/IKSDocumentDB",
                "payload": {
                  "engagementId": "{{ipc_engagement_id}}",
                  "endpoints": "{{selected_endpoints}}",
                  "serviceType": "IKSDocumentDB"
                }
              }
            ]
          }
        }
      },
      "vm": {
        "operations": ["list"],
        "aliases": ["vm", "vms", "virtual machine", "virtual machines", "instance", "instances", "server", "servers"],
        "api_endpoints": {
          "list": {
            "method": "GET",
            "url": "https://ipcloud.tatacommunications.com/portalservice/instances/vmlist/{ipc_engagement_id}",
            "description": "List all virtual machines for the engagement",
            "url_params": ["ipc_engagement_id"]
          }
        },
        "parameters": {
          "list": {
            "required": [],
            "optional": ["endpoint", "zone", "department"],
            "internal": {
              "ipc_engagement_id": "from_api"
            }
          }
        },
        "response_mapping": {
          "vms": "data.vmList",
          "total": "data.vmList.length",
          "last_synced": "data.lastSyncedAt"
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_vms": {
            "description": "List all virtual machines for the engagement",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600,
                "note": "Get PAAS engagement_id"
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600,
                "note": "Convert PAAS engagement_id to IPC engagement_id"
              },
              {
                "step": 3,
                "action": "list_vms",
                "method": "GET",
                "url": "https://ipcloud.tatacommunications.com/portalservice/instances/vmlist/{ipc_engagement_id}",
                "url_params": {
                  "ipc_engagement_id": "{{ipc_engagement_id}}"
                },
                "display_result": true,
                "display_format": "table"
              }
            ]
          }
        }
      },
      "firewall": {
        "operations": ["list"],
        "aliases": ["firewall", "firewalls", "fw", "vayu firewall", "network firewall"],
        "api_endpoints": {
          "list": {
            "method": "POST",
            "url": "https://ipcloud.tatacommunications.com/networkservice/firewallconfig/details",
            "description": "List firewalls for a specific endpoint"
          }
        },
        "parameters": {
          "list": {
            "required": ["endpoints"],
            "optional": ["variant"],
            "internal": {
              "engagementId": "ipc_engagement_id",
              "variant": ""
            }
          }
        },
        "response_mapping": {
          "firewalls": "data",
          "total": "data.length"
        },
        "permissions": {
          "list": ["admin", "developer", "viewer"]
        },
        "workflow": {
          "list_firewalls": {
            "description": "List firewalls for specified endpoints",
            "steps": [
              {
                "step": 1,
                "action": "get_paas_engagement",
                "resource": "engagement",
                "operation": "get",
                "cache": true,
                "cache_duration": 3600,
                "note": "Get PAAS engagement_id"
              },
              {
                "step": 2,
                "action": "convert_to_ipc_engagement",
                "resource": "k8s_cluster",
                "operation": "get_ipc_engagement",
                "depends_on": ["engagement_id"],
                "cache": true,
                "cache_duration": 3600,
                "note": "Convert PAAS engagement_id to IPC engagement_id"
              },
              {
                "step": 3,
                "action": "get_endpoints",
                "resource": "endpoint",
                "operation": "list",
                "depends_on": ["engagement_id"],
                "user_selection": true,
                "selection_prompt": "Which endpoints would you like to query for firewalls?"
              },
              {
                "step": 4,
                "action": "list_firewalls_per_endpoint",
                "method": "POST",
                "url": "https://ipcloud.tatacommunications.com/networkservice/firewallconfig/details",
                "payload": {
                  "engagementId": "{{ipc_engagement_id}}",
                  "endpointId": "{{endpoint_id}}",
                  "variant": ""
                },
                "note": "Call API for each selected endpoint using IPC engagement ID"
              }
            ]
          }
        },
       "load_balancer": {
  "operations": ["list"],
  "aliases": [
    "load balancer",
    "load balancers",
    "lb",
    "lbs",
    "loadbalancer",
    "loadbalancers",
    "vayu load balancer",
    "network load balancer",
    "application load balancer",
    "alb",
    "nlb"
  ],
  "api_endpoints": {
    "list": {
      "method": "GET",
      "url": "https://ipcloud.tatacommunications.com/networkservice/loadbalancer/list/loadbalancers/{ipc_engagement_id}",
      "description": "List ALL load balancers for the IPC engagement (returns load balancers from all endpoints in one call)",
      "url_params": ["ipc_engagement_id"]
    }
  },
  "parameters": {
    "list": {
      "required": ["ipc_engagement_id"],
      "optional": []
    }
  },
  "response_mapping": {
    "load_balancers": "data",
    "total": "data.length",
    "lb_names": "data[*].name",
    "lb_status": "data[*].status",
    "virtual_ips": "data[*].virtual_ip"
  },
  "permissions": {
    "list": ["admin", "developer", "viewer"]
  },
  "response_fields": {
    "common_fields": [
      "name",
      "id",
      "status",
      "endpoint",
      "virtual_ip",
      "protocol",
      "port",
      "backend_pools",
      "health_check_status",
      "ssl_enabled",
      "algorithm",
      "session_persistence"
    ],
    "description": "Load balancer configuration includes VIP, backend pools, health checks, SSL settings, and load balancing algorithm"
  },
  "workflow": {
    "list_load_balancers": {
      "description": "List load balancers for the engagement using IPC engagement ID",
      "steps": [
        {
          "step": 1,
          "action": "get_paas_engagement",
          "resource": "engagement",
          "operation": "get",
          "cache": true,
          "cache_duration": 3600,
          "note": "Get PAAS engagement_id"
        },
        {
          "step": 2,
          "action": "convert_to_ipc_engagement",
          "resource": "k8s_cluster",
          "operation": "get_ipc_engagement",
          "depends_on": ["engagement_id"],
          "cache": true,
          "cache_duration": 3600,
          "note": "Convert PAAS engagement_id to IPC engagement_id (REQUIRED for LB API)"
        },
        {
          "step": 3,
          "action": "list_load_balancers",
          "method": "GET",
          "url": "https://ipcloud.tatacommunications.com/networkservice/loadbalancer/list/loadbalancers/{ipc_engagement_id}",
          "url_params": {
            "ipc_engagement_id": "{{ipc_engagement_id}}"
          },
          "note": "CRITICAL: Single API call with IPC engagement ID returns ALL load balancers from all endpoints"
        },
        {
          "step": 4,
          "action": "format_response",
          "description": "Format load balancer data using LLM",
          "display_result": true,
          "display_format": "intelligent",
          "note": "Use LLM formatter to present data in user-friendly format with emojis and grouping"
        }
      ],
      "example_queries": [
        "list all load balancers",
        "show me load balancers",
        "what load balancers are active?",
        "list LBs",
        "show load balancers with SSL",
        "get load balancer configuration",
        "which load balancers are handling HTTPS traffic?",
        "show load balancers in production"
      ]
    }
  },
  "formatting_instructions": {
    "list": {
      "summary": "Show total count and highlight key load balancers with  emoji",
      "table_columns": [
        "name",
        "status",
        "endpoint",
        "virtual_ip",
        "protocol",
        "port",
        "backend_pool_count",
        "ssl_enabled"
      ],
      "highlights": [
        "Load balancer status (active/inactive/degraded)",
        "SSL/TLS configuration and certificate expiry",
        "Backend pool health status (all healthy/some down/all down)",
        "Virtual IP addresses",
        "Protocol and port information (HTTP/HTTPS/TCP/UDP)",
        "Load balancing algorithm (round-robin, least-connections, etc.)",
        "Session persistence/affinity settings",
        "Total backend pool members and their individual health"
      ],
      "status_indicators": {
        "backend_pool_health": {
          "all_healthy": " Healthy (all backends up)",
          "degraded": " Degraded (some backends down)",
          "critical": " Critical (all backends down)"
        }
      }
    }
  },
  "notes": [
    "CRITICAL: Use IPC engagement ID, NOT endpoint iteration",
    "API returns ALL load balancers from ALL endpoints in a single call",
    "Similar to business_unit API pattern - one call with IPC engagement ID",
    "API uses GET method with IPC engagement ID in URL path",
    "No request body needed - only ipc_engagement_id in URL",
    "Response includes endpoint information for each load balancer",
    "404 or status='failed' means no load balancers exist (not an error)",
    "Health check status indicates backend pool availability",
    "SSL/TLS settings are critical for secure traffic handling",
    "Virtual IP (VIP) is the public-facing address clients connect to"
  ],
  "api_pattern": "Same as business_unit - single call with IPC engagement ID returns all resources"
}
  }
}
    }



